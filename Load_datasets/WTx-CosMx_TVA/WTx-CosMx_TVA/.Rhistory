`lab_lv2-B-1970164-01-04_2,epi` <- readRDS("~/storage3_mount/insituCNV/InSituCNV/WTx-CosMx_TVA/snPATHO-seq/lab_lv2-B-1970164-01-04_2,epi.rds")
if (!require("BiocManager", quietly = TRUE))
install.packages("BiocManager")
BiocManager::install("SingleCellExperiment")
install.packages("RCurl")
install.packages("GenomeInfoDb")
install.packages("GenomicRanges")
install.packages("SummarizedExperiment")
BiocManager::install("SingleCellExperiment")
R
R --version
library(devtools)
install.packages("devtools")
if (!require("BiocManager", quietly = TRUE))
install.packages("BiocManager")
BiocManager::install(version = "3.19")
install_github("miccec/yaGST")
library(devtools)
install.packages("devtools")
q()
install.packages("devtools")
[200~remotes::install_github("r-lib/devtools")
remotes::install_github("r-lib/devtools")
installed.packages()
q()
install.packages("devtools")
install.packages("pkgdown")
remove.packages(c("devtools", "systemfonts", "textshaping", "ragg", "pkgdown"))
install.packages("remotes")
remotes::install_github("r-lib/devtools")
install.packages("pkgdown")
q()
install.packages("devtools")
q()
install.packages("devtools")
q()
Bioconductor --version
install.packages()
install.packages()
install.packages("devtools")
Bioconductor --version
BiocManager --version
BiocManager.version()
q()
`add-B-1970164-01-04_2` <- readRDS("~/storage3/insituCNV/data/WTx-CosMx_TVA/WTx-CosMx/add-B-1970164-01-04_2.rds")
library(dplyr)
lv1_221 <- readRDS("~/storage3/insituCNV/data/WTx-CosMx_TVA/round2/lv1-221.rds")
View(lv1_221)
cell_metadata <- as.data.frame(colData(lv1_221))
cell_metadata <- as.data.frame(clust(lv1_221))
View(lv1_221)
cell_metadata <- as.data.frame(lv1_221[["clust"]])
View(cell_metadata)
View(lv1_221)
cluster_metadata <- as.data.frame(lv1_221[["clust"]])
fil_221 <- readRDS("~/storage3/insituCNV/data/WTx-CosMx_TVA/round2/fil-221.rds")
View(fil_221)
SCE_221 <- as.data.frame(colData(fil_221))
library(dplyr)
SCE_221 <- as.data.frame(colData(fil_221))
View(fil_221)
SCE_221 <- as.data.frame(fil_221@colData)
View(SCE_221)
View(lv1_221)
setwd("~/storage3/insituCNV/InSituCNV/Load_datasets/WTx-CosMx_TVA/WTx-CosMx_TVA")
fil_221@colData
raw_221  <- readRDS("~/SSS_mount/insituCNV/data/WTx-CosMx_TVA/round2/raw-221-20241111T094332Z-001/raw-221/se.rds")
raw_221  <- readRDS("~/storage3_mount/insituCNV/data/WTx-CosMx_TVA/round2/raw-221-20241111T094332Z-001/raw-221/se.rds")
wdr()
wdr
raw_221  <- readRDS("~/SSS_mount/insituCNV/data/WTx-CosMx_TVA/round2/raw-221-20241111T094332Z-001/raw-221/se.rds")
raw_221  <- readRDS("/home/augusta/storage3_mount/insituCNV/data/WTx-CosMx_TVA/round2/raw-221-20241111T094332Z-001/raw-221/se.rds")
raw_221  <- readRDS("/home/augusta/storage3/insituCNV/data/WTx-CosMx_TVA/round2/raw-221-20241111T094332Z-001/raw-221/se.rds")
View(raw_221)
library(dplyr)
lv1_221 <- readRDS("~/storage3/insituCNV/data/WTx-CosMx_TVA/round2/lv1-221.rds")
cluster_metadata <- as.data.frame(lv1_221[["clust"]])
fil_221 <- readRDS("~/storage3/insituCNV/data/WTx-CosMx_TVA/round2/fil-221.rds")
SCE_221 <- as.data.frame(fil_221@colData)
raw_221  <- readRDS("/home/augusta/storage3/insituCNV/data/WTx-CosMx_TVA/round2/raw-221-20241111T094332Z-001/raw-221/se.rds")
View(cell_metadata)
View(cluster_metadata)
View(fil_221)
fil_221
# Load necessary libraries
library(SingleCellExperiment)
library(zellkonverter)
# Load necessary libraries
library(SingleCellExperiment)
# Load the SCE object from .rds file
sce_path <- "~/storage3/insituCNV/data/WTx-CosMx_TVA/round2/raw-221-20241111T094332Z-001/raw-221/se.rds"
# Define output path for .h5ad file
h5ad_path <- "~/storage3/insituCNV/data/WTx-CosMx_TVA/round2/data/221/adata_221_raw.h5ad"
# Convert and save as h5ad
writeH5AD(raw_221, h5ad_path)
raw_221  <- readRDS("/home/augusta/storage3/insituCNV/data/WTx-CosMx_TVA/round2/raw-221-20241111T094332Z-001/raw-221/se.rds")
View(raw_221)
# Convert and save as h5ad
writeH5AD(raw_221, h5ad_path)
# Convert and save as h5ad
writeH5AD(raw_221, file= h5ad_path)
if (!requireNamespace("BiocManager", quietly = TRUE)) {
install.packages("BiocManager")
}
BiocManager::install("zellkonverter")
a
# Load necessary libraries
library(SingleCellExperiment)
library(zellkonverter)
# Load the SCE object from .rds file
sce_path <- "~/storage3/insituCNV/data/WTx-CosMx_TVA/round2/raw-221-20241111T094332Z-001/raw-221/se.rds"
# Define output path for .h5ad file
h5ad_path <- "~/storage3/insituCNV/data/WTx-CosMx_TVA/round2/data/221/adata_221_raw.h5ad"
# Convert and save as h5ad
writeH5AD(raw_221, file= h5ad_path)
# Convert and save as h5ad
writeH5AD(raw_221, file= h5ad_path, X_name = "counts")
library(sceasy)
install.packages("remotes")
remotes::install_github("cellgeni/sceasy")
library(sceasy)
View(raw_221)
writeH5AD(
raw_221,                   # The SCE object
file = h5ad_path,
X_name = NULL,                     # Use default primary matrix
skip_assays = FALSE,               # Don't skip assays
compression = "gzip",              # Use gzip compression (or choose "none" or "lzf")
verbose = TRUE,                    # Print progress messages
assays = TRUE,                     # Convert all assay data
colData = TRUE,                    # Convert all colData (cell metadata)
rowData = TRUE,                    # Convert all rowData (gene metadata)
varm = TRUE,                       # Convert varm
reducedDims = TRUE,                # Convert reduced dimensions (PCA, UMAP, etc.)
metadata = TRUE,                   # Convert all metadata
colPairs = TRUE,                   # Convert all colPairs
rowPairs = TRUE                    # Convert all rowPairs
)
# Load the HDF5-backed SummarizedExperiment
sce_from_h5_221 <- loadHDF5SummarizedExperiment("~/storage3/insituCNV/data/WTx-CosMx_TVA/round2/raw-221-20241111T094332Z-001/raw-221")
# Load the HDF5-backed SummarizedExperiment
library(HDF5Array)
sce_from_h5_221 <- loadHDF5SummarizedExperiment("~/storage3/insituCNV/data/WTx-CosMx_TVA/round2/raw-221-20241111T094332Z-001/raw-221")
sce_from_h5_221 <- HDF5Array::loadHDF5SummarizedExperiment("~/storage3/insituCNV/data/WTx-CosMx_TVA/round2/raw-221-20241111T094332Z-001/raw-221")
View(sce_from_h5_221)
# Check the count matrix in the SCE object
count_matrix <- assay(fil_221, "counts")
# Check the count matrix in the SCE object
count_matrix <- assay(sce_from_h5_221, "counts")
# Inspect a portion of the count matrix, e.g., the first few rows and columns
print(count_matrix[1:5, 1:5])  # Shows the first 5 genes for the first 5 cells
# Convert and save as h5ad
writeH5AD(sce_from_h5_221,
file=h5ad_path)
